# Story 4.2: ESP32-CAM Integration

**Epic:** 4 - Edge Controller (Raspberry Pi)
**Status:** ❌ TODO

## Description
Replace the tablet camera prototype in the Raspberry Pi motion detection system with real ESP32-CAM devices. Integrate image capture, motion detection coordination, and device management into the Pi controller.

## Goals
- Replace cv2.VideoCapture(tablet) with ESP32-CAM stream
- Support multiple ESP32-CAM devices per Pi
- Coordinate motion detection between Pi and ESP32
- Handle device failures gracefully
- Optimize bandwidth (fetch frames only when needed)
- Support both MJPEG streaming and snapshot modes

## Key Components
- ESP32 stream consumer (MJPEG or HTTP snapshots)
- Multi-camera frame dispatcher
- Motion detection pipeline per camera
- Device failure handling and recovery
- Frame rate optimization
- Memory management for multiple streams

## Acceptance Criteria
- [ ] Pi successfully captures frames from ESP32-CAM
- [ ] Supports 4+ cameras simultaneously
- [ ] Motion detection works on ESP32 streams
- [ ] Frame rate adaptive based on system load
- [ ] Handles camera offline/reconnect gracefully
- [ ] Memory usage <500MB for 4 cameras
- [ ] Latency <2 seconds from capture to detection

## Dependencies
- Story 1.3 (ESP32 baseline)
- Story 3.2 (ESP32 ↔ Pi Communication)
- Story 4.1 (Motion detection baseline)
- OpenCV for frame processing
