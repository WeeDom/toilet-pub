# Story 6.6: Over-the-Air Updates & Remote Management

**Epic:** 6 - Security & Production Readiness
**Status:** ❌ TODO

## Description
Complete the OTA update infrastructure from Story 1.5 with production-ready features: firmware signing, staged rollouts, automatic rollback on failure, and remote management capabilities (reboot, config changes, diagnostics).

## Goals
- Signed firmware updates (prevent tampering)
- Staged rollouts (canary → 10% → 50% → 100%)
- Automatic rollback on boot failure
- Remote reboot and diagnostics
- Config changes without firmware update
- Update scheduling (off-peak hours)

## Key Features
- ECDSA firmware signing
- Checksum verification (SHA256)
- Dual partition with rollback
- Canary deployment strategy
- Remote command execution
- Update analytics and reporting

## Acceptance Criteria
- [ ] Firmware signed with ECDSA private key
- [ ] ESP32 verifies signature before flashing
- [ ] Staged rollout (canary → percentage-based)
- [ ] Automatic rollback if device fails to boot 3x
- [ ] Remote reboot command working
- [ ] Remote config update without firmware flash
- [ ] Update scheduling (2-4 AM local time)
- [ ] Update success/failure reporting
- [ ] Dashboard shows update progress
- [ ] Emergency stop for failed updates

## Dependencies
- Story 1.5 (OTA infrastructure)
- Story 5.1 (Central API)
- Story 5.2 (Dashboard)
- OpenSSL for signing, mbedTLS for verification
